---
title: Routes
description: This article describes IoT Routes features
excerpt: |
  This article describes IoT Routes features.
totalTime: PT5M
keywords: IoT, Hub, Route, Reference, S3, Database, Postgres, PostgreSQL, MySQL, REST, API, AI, Inference
dates:
  validation: 2021-08-31
  posted: 2021-08-31
---
## Overview

IoT Routes interconnects your Hub with services which are not Publish/Subscribe compatible.

Routes subscribe to topics on your Hub and forward the messages' payload to other services. This saves you the burden of doing it yourself.

Some services may reply with another message to be published back to your Hub.

You can create and delete routes in the routes tab of your Hub. All routes require a name and a topic to subscribe to, other settings are specific to the kind of route you choose.

<Message type="tip">

you can use wildcards in routes' topic.

</Message>

Head to [this HOWTO](/iot/iot-hub/how-to/create-route/) to learn how to create a Route.

## REST Route

This Route forwards your messages to any RESTful API over HTTP or HTTPS.

You can choose the HTTP verb, the API endpoint and HTTP additional headers to be sent (usually for authentication purposes). The route will call this API for each received message.

The HTTP headers will contain the one you configured plus:
- `X-MQTT-Topic`: the message's topic
- `X-MQTT-Retain`: `true` or `false` depending on whether the message's retain flag is set or not

The HTTP request body will contain the message's payload.

## Database Route

This Route forwards your messages to a database. PostgreSQL and MySQL are currently supported.

You can choose the connection settings and write an SQL query. This query will be executed against the database each time a message is received. The query can contain 2 variables:
- `$TOPIC`: the topic of the received message
- `$PAYLOAD`: the payload of the received message

<Message type="note">

you shouldn't put the `$TOPIC` and `$PAYLOAD` variables inside quotes nor escape their contents. They are parameters to the prepared query, not substituted in the query string.

</Message>

## Object Storage Route

This Route forwards your messages to a Scaleway Object Storage bucket.

You can choose the bucket you want to write to, a path prefix and one of the 2 following strategies:
- **Per topic**: there will be 1 object in your bucket per topic received, next messages with the same topic will overwrite previously written objects
- **Per message**: there will be 1 object in your bucket per message received

Depending on the strategy the message payload will be written in:
- **Per topic**: s3://`my-bucket`/`my/prefix`/`my/topic`
- **Per message**: s3://`my-bucket`/`my/prefix`/`my/topic`/`timestamp`

<Message type="note">

the timestamp will look like `2006-01-02T15:04:05.999999999Z`

</Message>

<Navigation title="See Also">
  <PreviousButton to="/iot/iot-hub/reference-content/networks/">Understanding Networks</PreviousButton>
  <NextButton to="/iot/iot-hub/reference-content/kickstarts/">Understanding Kickstarts</NextButton>
</Navigation>
