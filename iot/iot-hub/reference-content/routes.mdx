---
title: Routes
description: This page provides detailed information about Scaleway IoT Hub Routes.
excerpt: |
  This page provides detailed information about Scaleway IoT Hub Routes.
totalTime: PT5M
keywords: IoT, Hub, Route, Reference, S3, Database, Postgres, PostgreSQL, MySQL, REST, API, AI, Inference
dates:
  validation: 2021-08-31
  posted: 2021-08-31
---

## Overview

IoT Routes interconnect your Hub with services that are not Publish/Subscribe compatible.

Routes subscribe to topics in your Hub and forward the messages' payload to other services, automating the process.

You can create and delete Routes in the Routes tab of your Hub in the console. All Routes require a name and a topic to subscribe to. Other settings are specific to the kind of Route you choose.

<Message type="tip">

  You can use wildcards as Routes topics.

</Message>

<Message type="note">

  Learn how to create a route in this [How to](/iot/iot-hub/how-to/create-route/).

</Message>

## REST Route

This type of Route forwards your messages to any RESTful API over HTTP or HTTPS.

You can choose the HTTP verb, the API endpoint and HTTP additional headers to be sent. The route will call the API for each received message.

The HTTP headers will contain the one you configured as well as the message's topic (`X-MQTT-Topic`) and `X-MQTT-Retain` which can be `true` or `false`, depending on whether the message's retain flag is set or not.

The HTTP request body will contain the message's payload.

## Database Route

This Route forwards your messages to a database. PostgreSQL and MySQL are currently supported.

You can choose the connection settings and write an SQL query. This query will be executed against the database each time a message is received. The query can contain 2 variables:

- `$TOPIC`: the topic of the received message
- `$PAYLOAD`: the payload of the received message

<Message type="note">

  The `$TOPIC` and `$PAYLOAD` variables cannot be written inside quotes nor escape their contents. They are parameters to the prepared query, not substituted in the query string.

</Message>

## Object Storage Route

This Route forwards your messages to a [Scaleway Object Storage](https://www.scaleway.com/en/object-storage/) bucket.

You can choose the bucket you want to write to, a path prefix, and one of the two following strategies:

- **Per topic**: where one topic received equals one object in your bucket. The following messages with the same topic will overwrite previously written objects.
- **Per message**: where one message received equals one object in your bucket

Depending on the strategy the message payload will be written:

- **Per topic**: s3://`my-bucket`/`my/prefix`/`my/topic`
- **Per message**: s3://`my-bucket`/`my/prefix`/`my/topic`/`timestamp`

Timestamp example: 

```
2006-01-02T15:04:05.999999999Z
```

<Navigation title="See Also">
  <PreviousButton to="/iot/iot-hub/reference-content/networks/">Understanding Networks</PreviousButton>
  <NextButton to="/iot/iot-hub/reference-content/kickstarts/">Understanding Kickstarts</NextButton>
</Navigation>
